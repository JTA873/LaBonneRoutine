<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Événements & Ateliers - La Bonne Routine</title>
    <meta name="description" content="Découvrez nos ateliers SAP et événements de développement personnel">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <style>
        /* Styles spécifiques à la page événements */
        .events-page {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
            padding-top: 100px;
        }

        .events-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .page-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #111111;
            margin-bottom: 1rem;
            font-family: 'Playfair Display', serif;
        }

        .page-subtitle {
            font-size: 1.125rem;
            color: #6B7280;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        .events-filters {
            background: white;
            border-radius: 20px;
            padding: 1.5rem 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 2rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .filter-label {
            font-weight: 600;
            color: #374151;
            font-size: 0.875rem;
        }

        .filter-select {
            padding: 0.75rem 1rem;
            border: 2px solid #E5E7EB;
            border-radius: 12px;
            background: white;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .filter-select:focus {
            outline: none;
            border-color: #9E3728;
            box-shadow: 0 0 0 3px rgba(158, 55, 40, 0.1);
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .event-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .event-image {
            height: 200px;
            background: linear-gradient(135deg, #9E3728, #F59E0B);
            position: relative;
            overflow: hidden;
        }

        .event-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://images.unsplash.com/photo-1573164713714-d95e436ab8d6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80') center/cover;
            opacity: 0.8;
        }

        .event-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: rgba(255, 255, 255, 0.9);
            color: #9E3728;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .event-date {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.9);
            color: #374151;
            padding: 0.5rem;
            border-radius: 12px;
            text-align: center;
            backdrop-filter: blur(10px);
            min-width: 60px;
        }

        .event-day {
            font-size: 1.5rem;
            font-weight: 700;
            line-height: 1;
        }

        .event-month {
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
            color: #6B7280;
        }

        .event-content {
            padding: 2rem;
        }

        .event-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #111111;
            margin-bottom: 0.75rem;
            line-height: 1.3;
        }

        .event-description {
            color: #6B7280;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .event-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .event-detail {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #6B7280;
        }

        .event-detail-icon {
            font-size: 1rem;
        }

        .event-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid #F3F4F6;
        }

        .event-price {
            font-size: 1.25rem;
            font-weight: 700;
            color: #9E3728;
        }

        .event-btn {
            background: linear-gradient(135deg, #9E3728, #7A2A1E);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .event-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(158, 55, 40, 0.3);
        }

        .event-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .no-events {
            text-align: center;
            padding: 3rem;
            color: #6B7280;
        }

        .no-events-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .upcoming-section {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #111111;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .highlight-event {
            background: linear-gradient(135deg, rgba(158, 55, 40, 0.05), rgba(245, 158, 11, 0.05));
            border: 2px solid rgba(158, 55, 40, 0.2);
            padding: 2rem;
            border-radius: 16px;
            margin-bottom: 2rem;
        }

        .highlight-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #9E3728;
            margin-bottom: 1rem;
        }

        .highlight-description {
            color: #6B7280;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .highlight-details {
            display: flex;
            gap: 2rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .highlight-detail {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #374151;
            font-weight: 500;
        }

        .cta-section {
            background: linear-gradient(135deg, #9E3728, #7A2A1E);
            color: white;
            border-radius: 20px;
            padding: 3rem 2rem;
            text-align: center;
            margin-top: 3rem;
        }

        .cta-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .cta-description {
            font-size: 1.125rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .cta-btn {
            background: white;
            color: #9E3728;
            border: none;
            padding: 1rem 2rem;
            border-radius: 16px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
        }

        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        /* Animation d'entrée */
        .event-card,
        .upcoming-section,
        .cta-section {
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .events-container {
                padding: 1rem;
            }

            .page-title {
                font-size: 2rem;
            }

            .events-filters {
                flex-direction: column;
                align-items: stretch;
                gap: 1rem;
            }

            .events-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .event-details {
                grid-template-columns: 1fr;
            }

            .highlight-details {
                flex-direction: column;
                gap: 1rem;
            }

            .cta-section {
                padding: 2rem 1rem;
            }

            .cta-title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" style="position: fixed; top: 0; z-index: 1000;">
        <div class="nav-container">
            <div class="nav-brand">
                <img src="assets/logo.svg" alt="La Bonne Routine" class="logo">
                <span class="brand-text">La Bonne Routine</span>
            </div>
            
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Accueil</a>
                <a href="index.html#services" class="nav-link">Services</a>
                <a href="reserve.html" class="nav-link">Réserver</a>
                <a href="events.html" class="nav-link active">Événements</a>
                <a href="contact.html" class="nav-link">Contact</a>
                <div class="nav-auth">
                    <a href="signup.html" class="btn btn-primary" id="signupBtn">Inscription</a>
                    <a href="login.html" class="btn btn-outline" id="loginBtn">Connexion</a>
                    <a href="dashboard.html" class="btn btn-primary hidden" id="dashboardBtn">Mon compte</a>
                    <button class="btn btn-outline hidden" id="logoutBtn">Déconnexion</button>
                </div>
            </div>
        </div>
    </nav>

    <main class="events-page">
        <div class="events-container">
            <!-- En-tête de la page -->
            <div class="page-header">
                <h1 class="page-title">Événements & Ateliers</h1>
                <p class="page-subtitle">
                    Participez à nos ateliers SAP (Soutien, Accompagnement, Partage) et événements de développement personnel pour progresser ensemble dans une dynamique bienveillante.
                </p>
            </div>

            <!-- Événement en vedette -->
            <div class="upcoming-section">
                <h2 class="section-title">
                    ⭐ Prochainement
                </h2>
                
                <div class="highlight-event">
                    <div class="highlight-title">Atelier SAP : "Gérer le stress au quotidien"</div>
                    <div class="highlight-description">
                        Un atelier interactif pour apprendre des techniques concrètes de gestion du stress, dans un cadre bienveillant et de partage d'expériences. Découvrez des outils pratiques pour mieux gérer les situations stressantes du quotidien.
                    </div>
                    <div class="highlight-details">
                        <div class="highlight-detail">
                            📅 <span>Samedi 7 septembre 2024</span>
                        </div>
                        <div class="highlight-detail">
                            ⏰ <span>14h00 - 16h00</span>
                        </div>
                        <div class="highlight-detail">
                            👥 <span>6-8 participants</span>
                        </div>
                        <div class="highlight-detail">
                            💰 <span>25€</span>
                        </div>
                    </div>
                    <a href="reserve.html?type=atelier&event=stress" class="event-btn">
                        S'inscrire maintenant ✨
                    </a>
                </div>
            </div>

            <!-- Filtres -->
            <div class="events-filters">
                <div class="filter-group">
                    <label class="filter-label">Catégorie</label>
                    <select class="filter-select" id="categoryFilter">
                        <option value="">Toutes les catégories</option>
                        <option value="atelier-sap">Ateliers SAP</option>
                        <option value="conference">Conférences</option>
                        <option value="formation">Formations</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Période</label>
                    <select class="filter-select" id="dateFilter">
                        <option value="">Toutes les dates</option>
                        <option value="cette-semaine">Cette semaine</option>
                        <option value="ce-mois">Ce mois</option>
                        <option value="prochains-mois">Prochains mois</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Prix</label>
                    <select class="filter-select" id="priceFilter">
                        <option value="">Tous les prix</option>
                        <option value="gratuit">Gratuit</option>
                        <option value="payant">Payant</option>
                    </select>
                </div>
            </div>

            <!-- Grille des événements -->
            <div class="events-grid" id="eventsGrid">
                <!-- Atelier SAP - Confiance en soi -->
                <div class="event-card" data-category="atelier-sap" data-price="payant">
                    <div class="event-image">
                        <div class="event-badge">Atelier SAP</div>
                        <div class="event-date">
                            <div class="event-day">14</div>
                            <div class="event-month">SEP</div>
                        </div>
                    </div>
                    <div class="event-content">
                        <h3 class="event-title">Développer sa confiance en soi</h3>
                        <p class="event-description">
                            Atelier pratique pour renforcer l'estime de soi et développer une confiance durable. Exercices en groupe et partage d'expériences.
                        </p>
                        <div class="event-details">
                            <div class="event-detail">
                                <span class="event-detail-icon">⏰</span>
                                <span>14h00 - 16h00</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">👥</span>
                                <span>6-8 participants</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">📍</span>
                                <span>Paris 11ème</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">🎯</span>
                                <span>Tous niveaux</span>
                            </div>
                        </div>
                        <div class="event-footer">
                            <div class="event-price">25€</div>
                            <a href="reserve.html?type=atelier&event=confiance" class="event-btn">
                                S'inscrire 🚀
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Conférence gratuite -->
                <div class="event-card" data-category="conference" data-price="gratuit">
                    <div class="event-image">
                        <div class="event-badge">Conférence</div>
                        <div class="event-date">
                            <div class="event-day">21</div>
                            <div class="event-month">SEP</div>
                        </div>
                    </div>
                    <div class="event-content">
                        <h3 class="event-title">Les habitudes qui transforment</h3>
                        <p class="event-description">
                            Conférence inspirante sur le pouvoir des petites habitudes quotidiennes pour créer de grands changements dans sa vie.
                        </p>
                        <div class="event-details">
                            <div class="event-detail">
                                <span class="event-detail-icon">⏰</span>
                                <span>19h00 - 20h30</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">👥</span>
                                <span>Places limitées</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">📍</span>
                                <span>En ligne</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">🎁</span>
                                <span>Bonus inclus</span>
                            </div>
                        </div>
                        <div class="event-footer">
                            <div class="event-price">Gratuit</div>
                            <a href="reserve.html?type=conference&event=habitudes" class="event-btn">
                                Réserver 🎯
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Atelier SAP - Relations -->
                <div class="event-card" data-category="atelier-sap" data-price="payant">
                    <div class="event-image">
                        <div class="event-badge">Atelier SAP</div>
                        <div class="event-date">
                            <div class="event-day">28</div>
                            <div class="event-month">SEP</div>
                        </div>
                    </div>
                    <div class="event-content">
                        <h3 class="event-title">Améliorer ses relations interpersonnelles</h3>
                        <p class="event-description">
                            Session de groupe pour développer ses compétences relationnelles et créer des liens plus authentiques avec les autres.
                        </p>
                        <div class="event-details">
                            <div class="event-detail">
                                <span class="event-detail-icon">⏰</span>
                                <span>10h00 - 12h00</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">👥</span>
                                <span>6-8 participants</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">📍</span>
                                <span>Paris 11ème</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">💫</span>
                                <span>Exercices pratiques</span>
                            </div>
                        </div>
                        <div class="event-footer">
                            <div class="event-price">25€</div>
                            <a href="reserve.html?type=atelier&event=relations" class="event-btn">
                                S'inscrire 🤝
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Formation intensive -->
                <div class="event-card" data-category="formation" data-price="payant">
                    <div class="event-image">
                        <div class="event-badge">Formation</div>
                        <div class="event-date">
                            <div class="event-day">5</div>
                            <div class="event-month">OCT</div>
                        </div>
                    </div>
                    <div class="event-content">
                        <h3 class="event-title">Week-end intensif : Créer sa routine de vie</h3>
                        <p class="event-description">
                            Formation complète sur 2 jours pour construire une routine personnalisée et durable qui transformera votre quotidien.
                        </p>
                        <div class="event-details">
                            <div class="event-detail">
                                <span class="event-detail-icon">⏰</span>
                                <span>Sam-Dim 9h-17h</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">👥</span>
                                <span>12 participants max</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">📍</span>
                                <span>Séminaire résidentiel</span>
                            </div>
                            <div class="event-detail">
                                <span class="event-detail-icon">📚</span>
                                <span>Manuel inclus</span>
                            </div>
                        </div>
                        <div class="event-footer">
                            <div class="event-price">150€</div>
                            <a href="reserve.html?type=formation&event=routine-intensive" class="event-btn">
                                Réserver 📚
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section d'appel à l'action -->
            <div class="cta-section">
                <h2 class="cta-title">Prêt(e) à rejoindre notre communauté ?</h2>
                <p class="cta-description">
                    Participez à nos événements et découvrez le pouvoir du partage et de l'accompagnement collectif.
                </p>
                <a href="contact.html" class="cta-btn">
                    💬 Nous contacter
                </a>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script type="module" src="js/firebase-init.js"></script>
    <script type="module" src="js/auth.js"></script>
    <script type="module">
        import { auth } from './js/firebase-init.js';
        import { onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';

        // Éléments DOM
        const categoryFilter = document.getElementById('categoryFilter');
        const dateFilter = document.getElementById('dateFilter');
        const priceFilter = document.getElementById('priceFilter');
        const eventsGrid = document.getElementById('eventsGrid');

        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            setupFilters();
            animateCards();
        });

        // Gestion de l'authentification
        onAuthStateChanged(auth, (user) => {
            updateAuthDisplay(user);
        });

        function updateAuthDisplay(user) {
            const loginBtn = document.getElementById('loginBtn');
            const dashboardBtn = document.getElementById('dashboardBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            
            if (user) {
                loginBtn.classList.add('hidden');
                dashboardBtn.classList.remove('hidden');
                logoutBtn.classList.remove('hidden');
            } else {
                loginBtn.classList.remove('hidden');
                dashboardBtn.classList.add('hidden');
                logoutBtn.classList.add('hidden');
            }
        }

        // Configuration des filtres
        function setupFilters() {
            [categoryFilter, dateFilter, priceFilter].forEach(filter => {
                filter.addEventListener('change', applyFilters);
            });
        }

        // Application des filtres
        function applyFilters() {
            const categoryValue = categoryFilter.value;
            const dateValue = dateFilter.value;
            const priceValue = priceFilter.value;
            
            const eventCards = eventsGrid.querySelectorAll('.event-card');
            
            eventCards.forEach(card => {
                let showCard = true;
                
                // Filtre par catégorie
                if (categoryValue && card.dataset.category !== categoryValue) {
                    showCard = false;
                }
                
                // Filtre par prix
                if (priceValue && card.dataset.price !== priceValue) {
                    showCard = false;
                }
                
                // Animation d'affichage/masquage
                if (showCard) {
                    card.style.display = 'block';
                    card.style.animation = 'slideUp 0.4s ease-out';
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Vérifier s'il y a des événements visibles
            const visibleCards = eventsGrid.querySelectorAll('.event-card[style*="block"]');
            if (visibleCards.length === 0) {
                showNoEventsMessage();
            } else {
                hideNoEventsMessage();
            }
        }

        // Affichage du message "aucun événement"
        function showNoEventsMessage() {
            let noEventsMsg = document.getElementById('no-events-message');
            if (!noEventsMsg) {
                noEventsMsg = document.createElement('div');
                noEventsMsg.id = 'no-events-message';
                noEventsMsg.className = 'no-events';
                noEventsMsg.innerHTML = `
                    <div class="no-events-icon">📅</div>
                    <h3>Aucun événement trouvé</h3>
                    <p>Essayez de modifier vos filtres pour voir plus d'événements.</p>
                `;
                eventsGrid.appendChild(noEventsMsg);
            }
            noEventsMsg.style.display = 'block';
        }

        function hideNoEventsMessage() {
            const noEventsMsg = document.getElementById('no-events-message');
            if (noEventsMsg) {
                noEventsMsg.style.display = 'none';
            }
        }

        // Animation des cartes
        function animateCards() {
            const cards = document.querySelectorAll('.event-card');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
        }

        // Gestion des clics sur les boutons d'inscription
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('event-btn')) {
                const btn = e.target;
                const originalText = btn.textContent;
                
                btn.style.opacity = '0.7';
                btn.textContent = 'Redirection...';
                
                setTimeout(() => {
                    btn.style.opacity = '1';
                    btn.textContent = originalText;
                }, 1000);
            }
        });
    </script>
</body>
</html>
